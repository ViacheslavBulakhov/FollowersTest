"use strict";(self.webpackChunkfollowers_test=self.webpackChunkfollowers_test||[]).push([[483],{323:function(n,e,t){t.r(e),t.d(e,{default:function(){return H}});var r,o,i,s,l,a,c,u,p,f=t(439),g=t(791),x=t(218),d=t(413),h="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAAAWCAYAAABqgnq6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJvSURBVHgB7VixTgJBEJ0zaoIFjSZSaKGFBY0WNlpYaOs3m2ihjYWNFhRaQIGJFFBIIpfgPG6WDOseuyLCmPiSye0dc3u772beDJcNh8NLWj76bNdZluVlDrzOQz7s0pKxQjZQYTuiPwArhAE1jqIDMg5LhAEHTNo2GYY1woAjJq1CRmGRsDW2UyZtlQwidVEDthe2DhUVrSKGqrUZ8O+ytcQ/F98dSq9yrgjc02xosz3JeE8MuKNi/dOeezLl9yTC3vEgLvl97xrQEqHWYt1g30Zgjg77NmRBGxTHqAgE5kpBzveN1shzDNT1vrseAvsOKYJYSk6QhTRhq3oaU1Xjpt6g+I/JkXnwlgeUBhSBefZeWPum2DhY3DUKZ8sEYhHWUWSBpDMqNAbnz1SkW035a7L2+VCXMea4xVwwPkd6p7YQdfZ/o/ngWI2v2HLZ10nqBLEIa6kxNAVkgZQHth4VEYgxIqbrkVtX9/qNaYfSMSoCclw6YhGmdculIaJuYsOiY/pvTUij9LVSHSkBtMVE1YxFmNYqR14FuhQo+1rLEH2+TmmSUkTfAfPEqtvCECNMiyBSD5tGap3TV4FcE+GEuGOTj+o3l7oOO5SOR69CLxWxMN9jEppOrPn8SqreR8mXBaQmogGkoeVAP7SuS7noW43SgBalRYYQizDXdY9TE5vXZIl+uRRDeT506Qq/AFmpAt6esQf7VaQIKTZ5gUijooPO5b4tKlLL3zz6pi1pO3rqOWX+Ifgp/F3gxbmqXC3xQbvi9pKMzMgHRA3o342vW/8fEMvxYEnkfVgjDCL/SoZhiTCTIu/DCmE/FfmF4RNQ/w47l8bQTgAAAABJRU5ErkJggg==",w=t.p+"static/media/UserPhoto.a7eb1124d6de5b18f550.png",b=t(168),m=t(924),Z=t.p+"static/media/CardBackground.f105c89a8c09bde75c23.png",A=m.ZP.div(r||(r=(0,b.Z)(["\n  position: relative;\n  display: flex;\n  width: 380px;\n  height: 460px;\n  background: linear-gradient(\n    114.99deg,\n    #471ca9 -0.99%,\n    #5736a3 54.28%,\n    #4b2a99 78.99%\n  );\n  box-shadow: -2.5777px 6.87386px 20.6216px rgba(0, 0, 0, 0.23);\n  border-radius: 20px;\n  padding: 36px 28px;\n  flex-direction: column;\n  justify-content: space-between;\n"]))),v=m.ZP.div(o||(o=(0,b.Z)(["\n  position: absolute;\n  top: 20px;\n  left: 20px;\n"]))),S=m.ZP.div(i||(i=(0,b.Z)(["\n  background-image: url(",");\n  display: inline-block;\n  width: 308px;\n  height: 168px;\n"])),Z),j=m.ZP.div(s||(s=(0,b.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 1;\n"]))),F=m.ZP.div(l||(l=(0,b.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  width: 380px;\n  height: 8px;\n  background: #ebd8ff;\n  box-shadow: 0px 3.43693px 3.43693px rgba(0, 0, 0, 0.06),\n    inset 0px -1.71846px 3.43693px #ae7be3, inset 0px 3.43693px 2.5777px #fbf8ff;\n"]))),k=m.ZP.div(a||(a=(0,b.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  width: 80px;\n  height: 80px;\n  border-radius: 50%;\n  background: #ebd8ff;\n  box-shadow: 0px 3.43693px 3.43693px rgba(0, 0, 0, 0.06),\n    inset 0px -1.71846px 3.43693px #ae7be3, inset 0px 3.43693px 2.5777px #fbf8ff;\n"]))),E=m.ZP.li(c||(c=(0,b.Z)(["\n  font-family: Montserrat;\n  font-style: normal;\n  font-weight: 500;\n  font-size: 20px;\n  line-height: 24px;\n  text-transform: uppercase;\n  color: rgb(235, 216, 255);\n  margin-bottom: 26px;\n"]))),y=m.ZP.button(u||(u=(0,b.Z)(['\n  padding: 14px 28px;\n\n  box-shadow: rgba(0, 0, 0, 0.25) 0px 3.43693px 3.43693px;\n  border-radius: 10.3108px;\n  cursor: pointer;\n  width: 196px;\n  font-family: "Montserrat";\n  font-style: normal;\n  font-weight: 600;\n  font-size: 18px;\n  line-height: 22px;\n  text-transform: uppercase;\n']))),I=t(433),P=function(n){var e=n.toString().length;if(e<=3)return n;var t=n.toString().slice(e-3),r=n.toString().slice(0,e-3);return"".concat(r,",").concat(t)},Y=function(n){var e=n.isFollowing,t=n.id,r=n.followers,o=JSON.parse(localStorage.getItem("users"))||[];return o.some((function(n){return n.id===t}))?(0,I.Z)(o.map((function(n){return n.id===t?(0,d.Z)((0,d.Z)({},n),{},{isFollowing:!n.isFollowing,followers:e?n.followers-1:n.followers+1}):(0,d.Z)({},n)}))):[].concat((0,I.Z)(o),[{id:t,isFollowing:!e,followers:r+1}])},N=function(n){var e=n.setLocalFollowers,t=n.setIsFollowing;e(n.isFollowing?function(n){return n-1}:function(n){return n+1}),t((function(n){return!n}))},O=t(184);function L(n){var e=n.user,t=e.tweets,r=e.followers,o=e.id,i=e.avatar,s=n.setUsers,l=(0,g.useState)((function(){var n=(JSON.parse(localStorage.getItem("users"))||[]).find((function(n){return n.id===o}));return!(!n||!n.isFollowing)&&n.isFollowing})),a=(0,f.Z)(l,2),c=a[0],u=a[1],p=(0,g.useState)((function(){var n=(JSON.parse(localStorage.getItem("users"))||[]).find((function(n){return n.id===o}));return n&&n.followers?n.followers:r})),x=(0,f.Z)(p,2),b=x[0],m=x[1];(0,g.useEffect)((function(){s((function(n){return n.map((function(n){return n.id===o?(0,d.Z)((0,d.Z)({},n),{},{isFollowing:c}):n}))}))}),[c,s,o]);return(0,O.jsxs)(A,{children:[(0,O.jsx)(v,{children:(0,O.jsx)("img",{src:h,alt:"logo"})}),(0,O.jsx)(S,{}),(0,O.jsx)(j,{children:(0,O.jsx)("img",{src:null!==i&&void 0!==i?i:w,alt:"logo",width:i?62:80,height:i?62:80,style:{borderRadius:"50%"},loading:"lazy"})}),(0,O.jsx)(F,{}),(0,O.jsx)(k,{}),(0,O.jsxs)("ul",{style:{display:" flex",flexDirection:"column",alignItems:"center"},children:[(0,O.jsx)(E,{children:(0,O.jsxs)("p",{children:[(0,O.jsx)("span",{children:t})," TWEETS"]})}),(0,O.jsx)(E,{children:(0,O.jsxs)("p",{children:[(0,O.jsx)("span",{children:P(b)})," FOLLOWERS"]})}),(0,O.jsx)(y,{onClick:function(){return function(n,e){if(0===(JSON.parse(localStorage.getItem("users"))||[]).length)return localStorage.setItem("users",JSON.stringify([{id:n,followers:e+1,isFollowing:!0}])),void N({setLocalFollowers:m,setIsFollowing:u,isFollowing:c});localStorage.setItem("users",JSON.stringify(Y({isFollowing:c,id:n,followers:e}))),N({setLocalFollowers:m,setIsFollowing:u,isFollowing:c})}(o,r)},style:{background:"".concat(c?"#5CD3A8":"#EBD8FF")},children:c?"Following":"Follow"})]})]})}var T,U,B=m.ZP.button(p||(p=(0,b.Z)(["\n  margin: 0 auto;\n  display: block;\n  margin-top: 10px;\n  padding: 14px 28px;\n\n  box-shadow: rgba(0, 0, 0, 0.25) 0px 3.43693px 3.43693px;\n  border-radius: 10.3108px;\n  background-color: aqua;\n  cursor: pointer;\n\n  font-family: 'Montserrat';\n  font-style: normal;\n  font-weight: 600;\n  font-size: 18px;\n  line-height: 22px;\n  text-transform: uppercase;\n"])));function C(n){var e=n.setPage;return(0,O.jsx)(B,{onClick:function(){return e((function(n){return n+1}))},children:"Load More"})}var Q,q=m.ZP.div(T||(T=(0,b.Z)(["\n  display: flex;\n  justify-content: center;\n\n  margin: 10px 0 10px 0;\n  padding: 14px 28px;\n\n  box-shadow: rgba(0, 0, 0, 0.25) 0px 3.43693px 3.43693px;\n  border-radius: 10.3108px;\n  background-color: aqua;\n  align-items: center;\n"]))),R=m.ZP.select(U||(U=(0,b.Z)(["\n  background: linear-gradient(\n    114.99deg,\n    #471ca9 -0.99%,\n    #5736a3 54.28%,\n    #4b2a99 78.99%\n  );\n  color: #fff;\n  border: 1px solid #ccc;\n  border-radius: 20px;\n  padding: 12px;\n  margin-left: 10px;\n  cursor: pointer;\n\n  font-family: 'Montserrat';\n  font-style: normal;\n  font-weight: 600;\n  font-size: 18px;\n  line-height: 22px;\n  text-transform: uppercase;\n\n  & option {\n    background-color: #fff;\n    color: #333;\n  }\n"]))),D=function(n){var e=n.setFilter,t=(0,g.useState)(""),r=(0,f.Z)(t,2),o=r[0],i=r[1];return(0,O.jsxs)(q,{children:[(0,O.jsx)("h3",{children:"Filter The Users List"}),(0,O.jsxs)(R,{value:o,onChange:function(n){return t=n.target.value,i(t),void e(t);var t},children:[(0,O.jsx)("option",{value:"",children:"Select an option"}),["All","follow","following"].map((function(n){return(0,O.jsx)("option",{value:n,children:n},n)}))]})]})},W=m.ZP.ul(Q||(Q=(0,b.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 10px;\n  justify-content: center;\n"]))),z=t(165),J=t(861),M=t(243),V=function(){return x.ZP.success("That's all users")},G=function(n){return x.ZP.error("Something went wrong ".concat(n))};function X(){return(X=(0,J.Z)((0,z.Z)().mark((function n(e){var t,r,o,i;return(0,z.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.setUsers,r=e.page,n.prev=1,n.next=4,M.Z.get("/users?p=".concat(r,"&l=3"));case 4:if(o=n.sent,0!==(i=o.data).length){n.next=9;break}return V(),n.abrupt("return");case 9:t((function(n){return[].concat((0,I.Z)(n),(0,I.Z)(i))})),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(1),G(n.t0.message),console.log(n.t0.message);case 16:case"end":return n.stop()}}),n,null,[[1,12]])})))).apply(this,arguments)}function H(){var n=(0,g.useState)([]),e=(0,f.Z)(n,2),t=e[0],r=e[1],o=(0,g.useState)(1),i=(0,f.Z)(o,2),s=i[0],l=i[1],a=(0,g.useState)(!0),c=(0,f.Z)(a,2),u=c[0],p=c[1],d=(0,g.useState)("all"),h=(0,f.Z)(d,2),w=h[0],b=h[1];(0,g.useEffect)((function(){u?p(!1):function(n){X.apply(this,arguments)}({setUsers:r,page:s})}),[s,u]);return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(D,{setFilter:b}),(0,O.jsxs)("div",{children:[(0,O.jsx)(x.x7,{}),t.length>0&&(0,O.jsx)(W,{children:function(n){switch(n){case"follow":return t.filter((function(n){return!n.isFollowing}));case"following":return t.filter((function(n){return n.isFollowing}));default:return t}}(w).map((function(n){return(0,O.jsx)(L,{user:n,setUsers:r},n.id)}))}),(0,O.jsx)(C,{setPage:l})]})]})}M.Z.defaults.baseURL="https://64511247e1f6f1bb22a72c81.mockapi.io/api/v1"}}]);
//# sourceMappingURL=483.7a953712.chunk.js.map